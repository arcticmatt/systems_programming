<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libevent: event2/rpc.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">libevent
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_db160b4728e6067cf5f9cc14ec42c79d.html">event2</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">rpc.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;<a class="el" href="util_8h_source.html">event2/util.h</a>&gt;</code><br />
<code>#include &lt;event2/visibility.h&gt;</code><br />
</div>
<p><a href="rpc_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:af7abcafae087e3c4dce6a4cd85346114"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#af7abcafae087e3c4dce6a4cd85346114">EVRPC_GENERATE</a>(rpcname,  reqstruct,  rplystruct)</td></tr>
<tr class="memdesc:af7abcafae087e3c4dce6a4cd85346114"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generates the code for receiving and sending an RPC message.  <a href="rpc_8h.html#af7abcafae087e3c4dce6a4cd85346114">More...</a><br /></td></tr>
<tr class="separator:af7abcafae087e3c4dce6a4cd85346114"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa526799df545537b2dc67358b0dfaa15"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#aa526799df545537b2dc67358b0dfaa15">EVRPC_HEADER</a>(rpcname,  reqstruct,  rplystruct)</td></tr>
<tr class="memdesc:aa526799df545537b2dc67358b0dfaa15"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates the definitions and prototypes for an RPC.  <a href="rpc_8h.html#aa526799df545537b2dc67358b0dfaa15">More...</a><br /></td></tr>
<tr class="separator:aa526799df545537b2dc67358b0dfaa15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7694fa8f1b5995a9d43bef1da170fad"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#ad7694fa8f1b5995a9d43bef1da170fad">EVRPC_MAKE_CTX</a>(rpcname,  reqstruct,  rplystruct,  pool,  request,  reply,  cb,  cbarg)</td></tr>
<tr class="memdesc:ad7694fa8f1b5995a9d43bef1da170fad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a context structure that contains rpc specific information.  <a href="rpc_8h.html#ad7694fa8f1b5995a9d43bef1da170fad">More...</a><br /></td></tr>
<tr class="separator:ad7694fa8f1b5995a9d43bef1da170fad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff0efcd7cb8b966256b5127960bd2c81"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#aff0efcd7cb8b966256b5127960bd2c81">EVRPC_MAKE_REQUEST</a>(name,  pool,  request,  reply,  cb,  cbarg)&#160;&#160;&#160;evrpc_send_request_##name((pool), (request), (reply), (cb), (cbarg))</td></tr>
<tr class="memdesc:aff0efcd7cb8b966256b5127960bd2c81"><td class="mdescLeft">&#160;</td><td class="mdescRight">launches an RPC and sends it to the server  <a href="rpc_8h.html#aff0efcd7cb8b966256b5127960bd2c81">More...</a><br /></td></tr>
<tr class="separator:aff0efcd7cb8b966256b5127960bd2c81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb204281e2555a1e91ff3885747d0533"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#abb204281e2555a1e91ff3885747d0533">EVRPC_REGISTER</a>(base,  name,  request,  reply,  callback,  cbarg)</td></tr>
<tr class="memdesc:abb204281e2555a1e91ff3885747d0533"><td class="mdescLeft">&#160;</td><td class="mdescRight">register RPCs with the HTTP Server  <a href="rpc_8h.html#abb204281e2555a1e91ff3885747d0533">More...</a><br /></td></tr>
<tr class="separator:abb204281e2555a1e91ff3885747d0533"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36d6ba276baf3c95df69db35a2ef1527"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#a36d6ba276baf3c95df69db35a2ef1527">EVRPC_REQUEST_DONE</a>(rpc_req)</td></tr>
<tr class="memdesc:a36d6ba276baf3c95df69db35a2ef1527"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates the reply to an RPC request.  <a href="rpc_8h.html#a36d6ba276baf3c95df69db35a2ef1527">More...</a><br /></td></tr>
<tr class="separator:a36d6ba276baf3c95df69db35a2ef1527"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af78e1869994ee9597a9a0785d25fbf0b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#af78e1869994ee9597a9a0785d25fbf0b">EVRPC_REQUEST_HTTP</a>(rpc_req)&#160;&#160;&#160;(rpc_req)-&gt;http_req</td></tr>
<tr class="memdesc:af78e1869994ee9597a9a0785d25fbf0b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Provides access to the HTTP request object underlying an RPC.  <a href="rpc_8h.html#af78e1869994ee9597a9a0785d25fbf0b">More...</a><br /></td></tr>
<tr class="separator:af78e1869994ee9597a9a0785d25fbf0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9eff66229e154543551a936c59dd8fa"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#ae9eff66229e154543551a936c59dd8fa">EVRPC_STRUCT</a>(rpcname)&#160;&#160;&#160;struct evrpc_req__##rpcname</td></tr>
<tr class="memdesc:ae9eff66229e154543551a936c59dd8fa"><td class="mdescLeft">&#160;</td><td class="mdescRight">The type of a specific RPC Message.  <a href="rpc_8h.html#ae9eff66229e154543551a936c59dd8fa">More...</a><br /></td></tr>
<tr class="separator:ae9eff66229e154543551a936c59dd8fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab646cdf50e026accddcd9fe23b35837b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#ab646cdf50e026accddcd9fe23b35837b">EVRPC_UNREGISTER</a>(base,  name)&#160;&#160;&#160;evrpc_unregister_rpc((base), #name)</td></tr>
<tr class="memdesc:ab646cdf50e026accddcd9fe23b35837b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unregisters an already registered RPC.  <a href="rpc_8h.html#ab646cdf50e026accddcd9fe23b35837b">More...</a><br /></td></tr>
<tr class="separator:ab646cdf50e026accddcd9fe23b35837b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8bd4b0f338823bffee3ead3885ea6791"><td class="memItemLeft" align="right" valign="top"><a id="a8bd4b0f338823bffee3ead3885ea6791"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#a8bd4b0f338823bffee3ead3885ea6791">EVTAG_ARRAY_ADD</a>(msg,  member)&#160;&#160;&#160;(*(msg)-&gt;base-&gt;member##_add)(msg)</td></tr>
<tr class="memdesc:a8bd4b0f338823bffee3ead3885ea6791"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocates a new entry in the array and returns it. <br /></td></tr>
<tr class="separator:a8bd4b0f338823bffee3ead3885ea6791"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a796d8c44ee666b13ecbae36b0897820b"><td class="memItemLeft" align="right" valign="top"><a id="a796d8c44ee666b13ecbae36b0897820b"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#a796d8c44ee666b13ecbae36b0897820b">EVTAG_ARRAY_ADD_VALUE</a>(msg,  member,  value)&#160;&#160;&#160;(*(msg)-&gt;base-&gt;member##_add)((msg), (value))</td></tr>
<tr class="memdesc:a796d8c44ee666b13ecbae36b0897820b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a value to an array. <br /></td></tr>
<tr class="separator:a796d8c44ee666b13ecbae36b0897820b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b955ffe442d49fdfe17c76a6e758880"><td class="memItemLeft" align="right" valign="top"><a id="a1b955ffe442d49fdfe17c76a6e758880"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#a1b955ffe442d49fdfe17c76a6e758880">EVTAG_ARRAY_GET</a>(msg,  member,  offset,  pvalue)&#160;&#160;&#160;(*(msg)-&gt;base-&gt;member##_get)((msg), (offset), (pvalue))</td></tr>
<tr class="memdesc:a1b955ffe442d49fdfe17c76a6e758880"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets a variable at the specified offset from the array. <br /></td></tr>
<tr class="separator:a1b955ffe442d49fdfe17c76a6e758880"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4a0a6a9f8fbe20ced71eaebd297168b"><td class="memItemLeft" align="right" valign="top"><a id="ab4a0a6a9f8fbe20ced71eaebd297168b"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#ab4a0a6a9f8fbe20ced71eaebd297168b">EVTAG_ARRAY_LEN</a>(msg,  member)&#160;&#160;&#160;((msg)-&gt;member##_length)</td></tr>
<tr class="memdesc:ab4a0a6a9f8fbe20ced71eaebd297168b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of entries in the array. <br /></td></tr>
<tr class="separator:ab4a0a6a9f8fbe20ced71eaebd297168b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8063c9f0927da79cc9e53600a77eecc6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#a8063c9f0927da79cc9e53600a77eecc6">EVTAG_ASSIGN</a>(msg,  member,  value)&#160;&#160;&#160;(*(msg)-&gt;base-&gt;member##_assign)((msg), (value))</td></tr>
<tr class="memdesc:a8063c9f0927da79cc9e53600a77eecc6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Assigns a value to the member in the message.  <a href="rpc_8h.html#a8063c9f0927da79cc9e53600a77eecc6">More...</a><br /></td></tr>
<tr class="separator:a8063c9f0927da79cc9e53600a77eecc6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af420133e56a545bef6cba6f878d403d7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#af420133e56a545bef6cba6f878d403d7">EVTAG_ASSIGN_WITH_LEN</a>(msg,  member,  value,  len)&#160;&#160;&#160;(*(msg)-&gt;base-&gt;member##_assign)((msg), (value), (len))</td></tr>
<tr class="memdesc:af420133e56a545bef6cba6f878d403d7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Assigns a value to the member in the message.  <a href="rpc_8h.html#af420133e56a545bef6cba6f878d403d7">More...</a><br /></td></tr>
<tr class="separator:af420133e56a545bef6cba6f878d403d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef6e54053208c090c43d05c9b2259fb9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#aef6e54053208c090c43d05c9b2259fb9">EVTAG_GET</a>(msg,  member,  pvalue)&#160;&#160;&#160;(*(msg)-&gt;base-&gt;member##_get)((msg), (pvalue))</td></tr>
<tr class="memdesc:aef6e54053208c090c43d05c9b2259fb9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the value for a member.  <a href="rpc_8h.html#aef6e54053208c090c43d05c9b2259fb9">More...</a><br /></td></tr>
<tr class="separator:aef6e54053208c090c43d05c9b2259fb9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0b73ea41cb7f06976fd69a8f1be6219"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#ae0b73ea41cb7f06976fd69a8f1be6219">EVTAG_GET_WITH_LEN</a>(msg,  member,  pvalue,  plen)&#160;&#160;&#160;(*(msg)-&gt;base-&gt;member##_get)((msg), (pvalue), (plen))</td></tr>
<tr class="memdesc:ae0b73ea41cb7f06976fd69a8f1be6219"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the value for a member.  <a href="rpc_8h.html#ae0b73ea41cb7f06976fd69a8f1be6219">More...</a><br /></td></tr>
<tr class="separator:ae0b73ea41cb7f06976fd69a8f1be6219"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a924e89c7a0c5eddc63cf9bf569fae6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#a1a924e89c7a0c5eddc63cf9bf569fae6">EVTAG_HAS</a>(msg,  member)&#160;&#160;&#160;((msg)-&gt;member##_set == 1)</td></tr>
<tr class="memdesc:a1a924e89c7a0c5eddc63cf9bf569fae6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determines if the member has been set in the message.  <a href="rpc_8h.html#a1a924e89c7a0c5eddc63cf9bf569fae6">More...</a><br /></td></tr>
<tr class="separator:a1a924e89c7a0c5eddc63cf9bf569fae6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1bb283bd7893b9855e2f23013891fc82"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#a1bb283bd7893b9855e2f23013891fc82">INPUT</a>&#160;&#160;&#160;<a class="el" href="rpc_8h.html#a66eff7ea6bdd17e53fde6c4d9dc1835ba2a62d2e1147edb5b460c1abb17be9734">EVRPC_INPUT</a></td></tr>
<tr class="memdesc:a1bb283bd7893b9855e2f23013891fc82"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deprecated alias for EVRPC_INPUT.  <a href="rpc_8h.html#a1bb283bd7893b9855e2f23013891fc82">More...</a><br /></td></tr>
<tr class="separator:a1bb283bd7893b9855e2f23013891fc82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61a3c9a18380aafb6e430e79bf596557"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#a61a3c9a18380aafb6e430e79bf596557">OUTPUT</a>&#160;&#160;&#160;<a class="el" href="rpc_8h.html#a66eff7ea6bdd17e53fde6c4d9dc1835bad63587ff3a66808e422f1ca48c9db85e">EVRPC_OUTPUT</a></td></tr>
<tr class="memdesc:a61a3c9a18380aafb6e430e79bf596557"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deprecated alias for EVRPC_OUTPUT.  <a href="rpc_8h.html#a61a3c9a18380aafb6e430e79bf596557">More...</a><br /></td></tr>
<tr class="separator:a61a3c9a18380aafb6e430e79bf596557"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a9c37f133ebc96b2bd66c472079b1338b"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#a9c37f133ebc96b2bd66c472079b1338b">EVRPC_HOOK_RESULT</a> { <a class="el" href="rpc_8h.html#a9c37f133ebc96b2bd66c472079b1338ba61de2cad490f408aa9ecc3427cfb6233">EVRPC_TERMINATE</a> = -1, 
<a class="el" href="rpc_8h.html#a9c37f133ebc96b2bd66c472079b1338ba4f92aee79d3413c4940eeb578ee33643">EVRPC_CONTINUE</a> = 0, 
<a class="el" href="rpc_8h.html#a9c37f133ebc96b2bd66c472079b1338baff86ced7cf446eec75868ba64d956b9c">EVRPC_PAUSE</a> = 1
 }</td></tr>
<tr class="memdesc:a9c37f133ebc96b2bd66c472079b1338b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return value from hook processing functions.  <a href="rpc_8h.html#a9c37f133ebc96b2bd66c472079b1338b">More...</a><br /></td></tr>
<tr class="separator:a9c37f133ebc96b2bd66c472079b1338b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66eff7ea6bdd17e53fde6c4d9dc1835b"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#a66eff7ea6bdd17e53fde6c4d9dc1835b">EVRPC_HOOK_TYPE</a> { <a class="el" href="rpc_8h.html#a66eff7ea6bdd17e53fde6c4d9dc1835ba2a62d2e1147edb5b460c1abb17be9734">EVRPC_INPUT</a>, 
<a class="el" href="rpc_8h.html#a66eff7ea6bdd17e53fde6c4d9dc1835bad63587ff3a66808e422f1ca48c9db85e">EVRPC_OUTPUT</a>
 }</td></tr>
<tr class="memdesc:a66eff7ea6bdd17e53fde6c4d9dc1835b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Hooks for changing the input and output of RPCs; this can be used to implement compression, authentication, encryption, ...  <a href="rpc_8h.html#a66eff7ea6bdd17e53fde6c4d9dc1835b">More...</a><br /></td></tr>
<tr class="separator:a66eff7ea6bdd17e53fde6c4d9dc1835b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a5d82ac478904ddadeba9af7e695b254d"><td class="memItemLeft" align="right" valign="top">EVENT2_EXPORT_SYMBOL void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#a5d82ac478904ddadeba9af7e695b254d">evrpc_add_hook</a> (void *vbase, enum <a class="el" href="rpc_8h.html#a66eff7ea6bdd17e53fde6c4d9dc1835b">EVRPC_HOOK_TYPE</a> hook_type, int(*cb)(void *, struct evhttp_request *, struct <a class="el" href="structevbuffer.html">evbuffer</a> *, void *), void *cb_arg)</td></tr>
<tr class="memdesc:a5d82ac478904ddadeba9af7e695b254d"><td class="mdescLeft">&#160;</td><td class="mdescRight">adds a processing hook to either an rpc base or rpc pool  <a href="rpc_8h.html#a5d82ac478904ddadeba9af7e695b254d">More...</a><br /></td></tr>
<tr class="separator:a5d82ac478904ddadeba9af7e695b254d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aefeb82c78c1a6e2338d32cfcb02297c6"><td class="memItemLeft" align="right" valign="top">EVENT2_EXPORT_SYMBOL void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#aefeb82c78c1a6e2338d32cfcb02297c6">evrpc_free</a> (struct evrpc_base *base)</td></tr>
<tr class="memdesc:aefeb82c78c1a6e2338d32cfcb02297c6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Frees the evrpc base.  <a href="rpc_8h.html#aefeb82c78c1a6e2338d32cfcb02297c6">More...</a><br /></td></tr>
<tr class="separator:aefeb82c78c1a6e2338d32cfcb02297c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53ce45c8257cc14243ab3e2396c15041"><td class="memItemLeft" align="right" valign="top"><a id="a53ce45c8257cc14243ab3e2396c15041"></a>
EVENT2_EXPORT_SYMBOL void *&#160;</td><td class="memItemRight" valign="bottom"><b>evrpc_get_reply</b> (struct evrpc_req_generic *req)</td></tr>
<tr class="separator:a53ce45c8257cc14243ab3e2396c15041"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb47f45ebbc9c6322f3d57dc0bc9dd0d"><td class="memItemLeft" align="right" valign="top"><a id="abb47f45ebbc9c6322f3d57dc0bc9dd0d"></a>
EVENT2_EXPORT_SYMBOL void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#abb47f45ebbc9c6322f3d57dc0bc9dd0d">evrpc_get_request</a> (struct evrpc_req_generic *req)</td></tr>
<tr class="memdesc:abb47f45ebbc9c6322f3d57dc0bc9dd0d"><td class="mdescLeft">&#160;</td><td class="mdescRight">accessors for request and reply <br /></td></tr>
<tr class="separator:abb47f45ebbc9c6322f3d57dc0bc9dd0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90a1f9e9fcb9e9221bd012f67b0dc667"><td class="memItemLeft" align="right" valign="top">EVENT2_EXPORT_SYMBOL void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#a90a1f9e9fcb9e9221bd012f67b0dc667">evrpc_hook_add_meta</a> (void *ctx, const char *key, const void *data, size_t data_size)</td></tr>
<tr class="memdesc:a90a1f9e9fcb9e9221bd012f67b0dc667"><td class="mdescLeft">&#160;</td><td class="mdescRight">adds meta data to request  <a href="rpc_8h.html#a90a1f9e9fcb9e9221bd012f67b0dc667">More...</a><br /></td></tr>
<tr class="separator:a90a1f9e9fcb9e9221bd012f67b0dc667"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e6215f4f22ab5bc5d72159143cefcea"><td class="memItemLeft" align="right" valign="top">EVENT2_EXPORT_SYMBOL int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#a5e6215f4f22ab5bc5d72159143cefcea">evrpc_hook_find_meta</a> (void *ctx, const char *key, void **data, size_t *data_size)</td></tr>
<tr class="memdesc:a5e6215f4f22ab5bc5d72159143cefcea"><td class="mdescLeft">&#160;</td><td class="mdescRight">retrieves meta data previously associated  <a href="rpc_8h.html#a5e6215f4f22ab5bc5d72159143cefcea">More...</a><br /></td></tr>
<tr class="separator:a5e6215f4f22ab5bc5d72159143cefcea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb04e638c158bd3fe3a0e73000e39f10"><td class="memItemLeft" align="right" valign="top">EVENT2_EXPORT_SYMBOL struct evhttp_connection *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#afb04e638c158bd3fe3a0e73000e39f10">evrpc_hook_get_connection</a> (void *ctx)</td></tr>
<tr class="memdesc:afb04e638c158bd3fe3a0e73000e39f10"><td class="mdescLeft">&#160;</td><td class="mdescRight">returns the connection object associated with the request  <a href="rpc_8h.html#afb04e638c158bd3fe3a0e73000e39f10">More...</a><br /></td></tr>
<tr class="separator:afb04e638c158bd3fe3a0e73000e39f10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac86c02abb0baa97c82efe94a72ae8178"><td class="memItemLeft" align="right" valign="top">EVENT2_EXPORT_SYMBOL struct evrpc_base *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#ac86c02abb0baa97c82efe94a72ae8178">evrpc_init</a> (struct evhttp *server)</td></tr>
<tr class="memdesc:ac86c02abb0baa97c82efe94a72ae8178"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new rpc base from which RPC requests can be received.  <a href="rpc_8h.html#ac86c02abb0baa97c82efe94a72ae8178">More...</a><br /></td></tr>
<tr class="separator:ac86c02abb0baa97c82efe94a72ae8178"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e45aa64f32b7a0a780b914b4a7b83c5"><td class="memItemLeft" align="right" valign="top">EVENT2_EXPORT_SYMBOL int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#a1e45aa64f32b7a0a780b914b4a7b83c5">evrpc_make_request</a> (struct evrpc_request_wrapper *ctx)</td></tr>
<tr class="memdesc:a1e45aa64f32b7a0a780b914b4a7b83c5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Makes an RPC request based on the provided context.  <a href="rpc_8h.html#a1e45aa64f32b7a0a780b914b4a7b83c5">More...</a><br /></td></tr>
<tr class="separator:a1e45aa64f32b7a0a780b914b4a7b83c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a8bc24b989e67a6739fc11118ba0b3f"><td class="memItemLeft" align="right" valign="top"><a id="a6a8bc24b989e67a6739fc11118ba0b3f"></a>
EVENT2_EXPORT_SYMBOL struct evrpc_request_wrapper *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#a6a8bc24b989e67a6739fc11118ba0b3f">evrpc_make_request_ctx</a> (struct evrpc_pool *pool, void *request, void *reply, const char *rpcname, void(*req_marshal)(struct <a class="el" href="structevbuffer.html">evbuffer</a> *, void *), void(*rpl_clear)(void *), int(*rpl_unmarshal)(void *, struct <a class="el" href="structevbuffer.html">evbuffer</a> *), void(*cb)(struct evrpc_status *, void *, void *, void *), void *cbarg)</td></tr>
<tr class="memdesc:a6a8bc24b989e67a6739fc11118ba0b3f"><td class="mdescLeft">&#160;</td><td class="mdescRight">use EVRPC_GENERATE instead <br /></td></tr>
<tr class="separator:a6a8bc24b989e67a6739fc11118ba0b3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e3bedffaef59f2ccc1c0003ce05da8c"><td class="memItemLeft" align="right" valign="top">EVENT2_EXPORT_SYMBOL void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#a9e3bedffaef59f2ccc1c0003ce05da8c">evrpc_pool_add_connection</a> (struct evrpc_pool *pool, struct evhttp_connection *evcon)</td></tr>
<tr class="memdesc:a9e3bedffaef59f2ccc1c0003ce05da8c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a connection over which rpc can be dispatched to the pool.  <a href="rpc_8h.html#a9e3bedffaef59f2ccc1c0003ce05da8c">More...</a><br /></td></tr>
<tr class="separator:a9e3bedffaef59f2ccc1c0003ce05da8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8579f465aee520bb8ac1b208d1d8d95"><td class="memItemLeft" align="right" valign="top">EVENT2_EXPORT_SYMBOL void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#ab8579f465aee520bb8ac1b208d1d8d95">evrpc_pool_free</a> (struct evrpc_pool *pool)</td></tr>
<tr class="memdesc:ab8579f465aee520bb8ac1b208d1d8d95"><td class="mdescLeft">&#160;</td><td class="mdescRight">frees an rpc connection pool  <a href="rpc_8h.html#ab8579f465aee520bb8ac1b208d1d8d95">More...</a><br /></td></tr>
<tr class="separator:ab8579f465aee520bb8ac1b208d1d8d95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3098d4fd0966fe525d86f0f717771389"><td class="memItemLeft" align="right" valign="top">EVENT2_EXPORT_SYMBOL struct evrpc_pool *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#a3098d4fd0966fe525d86f0f717771389">evrpc_pool_new</a> (struct <a class="el" href="structevent__base.html">event_base</a> *base)</td></tr>
<tr class="memdesc:a3098d4fd0966fe525d86f0f717771389"><td class="mdescLeft">&#160;</td><td class="mdescRight">creates an rpc connection pool  <a href="rpc_8h.html#a3098d4fd0966fe525d86f0f717771389">More...</a><br /></td></tr>
<tr class="separator:a3098d4fd0966fe525d86f0f717771389"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6272b6b974e4abe27ccb1273ba37b100"><td class="memItemLeft" align="right" valign="top">EVENT2_EXPORT_SYMBOL void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#a6272b6b974e4abe27ccb1273ba37b100">evrpc_pool_remove_connection</a> (struct evrpc_pool *pool, struct evhttp_connection *evcon)</td></tr>
<tr class="memdesc:a6272b6b974e4abe27ccb1273ba37b100"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes a connection from the pool.  <a href="rpc_8h.html#a6272b6b974e4abe27ccb1273ba37b100">More...</a><br /></td></tr>
<tr class="separator:a6272b6b974e4abe27ccb1273ba37b100"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0164fb784c8b8907e30861f2fee89c44"><td class="memItemLeft" align="right" valign="top">EVENT2_EXPORT_SYMBOL void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#a0164fb784c8b8907e30861f2fee89c44">evrpc_pool_set_timeout</a> (struct evrpc_pool *pool, int timeout_in_secs)</td></tr>
<tr class="memdesc:a0164fb784c8b8907e30861f2fee89c44"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the timeout in secs after which a request has to complete.  <a href="rpc_8h.html#a0164fb784c8b8907e30861f2fee89c44">More...</a><br /></td></tr>
<tr class="separator:a0164fb784c8b8907e30861f2fee89c44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad265540d04241d80f60847718db5913"><td class="memItemLeft" align="right" valign="top">EVENT2_EXPORT_SYMBOL int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#aad265540d04241d80f60847718db5913">evrpc_register_generic</a> (struct evrpc_base *base, const char *name, void(*callback)(struct evrpc_req_generic *, void *), void *cbarg, void *(*req_new)(void *), void *req_new_arg, void(*req_free)(void *), int(*req_unmarshal)(void *, struct <a class="el" href="structevbuffer.html">evbuffer</a> *), void *(*rpl_new)(void *), void *rpl_new_arg, void(*rpl_free)(void *), int(*rpl_complete)(void *), void(*rpl_marshal)(struct <a class="el" href="structevbuffer.html">evbuffer</a> *, void *))</td></tr>
<tr class="memdesc:aad265540d04241d80f60847718db5913"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for registering a generic RPC with the RPC base.  <a href="rpc_8h.html#aad265540d04241d80f60847718db5913">More...</a><br /></td></tr>
<tr class="separator:aad265540d04241d80f60847718db5913"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8687528c294762984a097ecf4575713"><td class="memItemLeft" align="right" valign="top">EVENT2_EXPORT_SYMBOL int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#ab8687528c294762984a097ecf4575713">evrpc_register_rpc</a> (struct evrpc_base *, struct evrpc *, void(*)(struct evrpc_req_generic *, void *), void *)</td></tr>
<tr class="memdesc:ab8687528c294762984a097ecf4575713"><td class="mdescLeft">&#160;</td><td class="mdescRight">Low level function for registering an RPC with a server.  <a href="rpc_8h.html#ab8687528c294762984a097ecf4575713">More...</a><br /></td></tr>
<tr class="separator:ab8687528c294762984a097ecf4575713"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab77b039cae7b4f94bfff18382bef981f"><td class="memItemLeft" align="right" valign="top">EVENT2_EXPORT_SYMBOL int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#ab77b039cae7b4f94bfff18382bef981f">evrpc_remove_hook</a> (void *vbase, enum <a class="el" href="rpc_8h.html#a66eff7ea6bdd17e53fde6c4d9dc1835b">EVRPC_HOOK_TYPE</a> hook_type, void *handle)</td></tr>
<tr class="memdesc:ab77b039cae7b4f94bfff18382bef981f"><td class="mdescLeft">&#160;</td><td class="mdescRight">removes a previously added hook  <a href="rpc_8h.html#ab77b039cae7b4f94bfff18382bef981f">More...</a><br /></td></tr>
<tr class="separator:ab77b039cae7b4f94bfff18382bef981f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c74b9d6cd83891ed8f03435892a0e5d"><td class="memItemLeft" align="right" valign="top"><a id="a7c74b9d6cd83891ed8f03435892a0e5d"></a>
EVENT2_EXPORT_SYMBOL void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#a7c74b9d6cd83891ed8f03435892a0e5d">evrpc_request_done</a> (struct evrpc_req_generic *req)</td></tr>
<tr class="memdesc:a7c74b9d6cd83891ed8f03435892a0e5d"><td class="mdescLeft">&#160;</td><td class="mdescRight">completes the server response to an rpc request <br /></td></tr>
<tr class="separator:a7c74b9d6cd83891ed8f03435892a0e5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6dd0d42ecc04297df768300e5f24b31"><td class="memItemLeft" align="right" valign="top"><a id="af6dd0d42ecc04297df768300e5f24b31"></a>
EVENT2_EXPORT_SYMBOL struct evrpc_pool *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#af6dd0d42ecc04297df768300e5f24b31">evrpc_request_get_pool</a> (struct evrpc_request_wrapper *ctx)</td></tr>
<tr class="memdesc:af6dd0d42ecc04297df768300e5f24b31"><td class="mdescLeft">&#160;</td><td class="mdescRight">accessors for obscure and undocumented functionality <br /></td></tr>
<tr class="separator:af6dd0d42ecc04297df768300e5f24b31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb62c3c251e7adb0dcc658354bcef249"><td class="memItemLeft" align="right" valign="top"><a id="aeb62c3c251e7adb0dcc658354bcef249"></a>
EVENT2_EXPORT_SYMBOL void&#160;</td><td class="memItemRight" valign="bottom"><b>evrpc_request_set_cb</b> (struct evrpc_request_wrapper *ctx, void(*cb)(struct evrpc_status *, void *request, void *reply, void *arg), void *cb_arg)</td></tr>
<tr class="separator:aeb62c3c251e7adb0dcc658354bcef249"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1cff4655cd7cedf036d248cd1ac7a5ba"><td class="memItemLeft" align="right" valign="top"><a id="a1cff4655cd7cedf036d248cd1ac7a5ba"></a>
EVENT2_EXPORT_SYMBOL void&#160;</td><td class="memItemRight" valign="bottom"><b>evrpc_request_set_pool</b> (struct evrpc_request_wrapper *ctx, struct evrpc_pool *pool)</td></tr>
<tr class="separator:a1cff4655cd7cedf036d248cd1ac7a5ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e7a8aabcd4e216d1e32254bfba33472"><td class="memItemLeft" align="right" valign="top">EVENT2_EXPORT_SYMBOL int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#a8e7a8aabcd4e216d1e32254bfba33472">evrpc_resume_request</a> (void *vbase, void *ctx, enum <a class="el" href="rpc_8h.html#a9c37f133ebc96b2bd66c472079b1338b">EVRPC_HOOK_RESULT</a> res)</td></tr>
<tr class="memdesc:a8e7a8aabcd4e216d1e32254bfba33472"><td class="mdescLeft">&#160;</td><td class="mdescRight">resume a paused request  <a href="rpc_8h.html#a8e7a8aabcd4e216d1e32254bfba33472">More...</a><br /></td></tr>
<tr class="separator:a8e7a8aabcd4e216d1e32254bfba33472"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99dc1ab2f6775a743dac96cdf2d5ace0"><td class="memItemLeft" align="right" valign="top">EVENT2_EXPORT_SYMBOL int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#a99dc1ab2f6775a743dac96cdf2d5ace0">evrpc_send_request_generic</a> (struct evrpc_pool *pool, void *request, void *reply, void(*cb)(struct evrpc_status *, void *, void *, void *), void *cb_arg, const char *rpcname, void(*req_marshal)(struct <a class="el" href="structevbuffer.html">evbuffer</a> *, void *), void(*rpl_clear)(void *), int(*rpl_unmarshal)(void *, struct <a class="el" href="structevbuffer.html">evbuffer</a> *))</td></tr>
<tr class="memdesc:a99dc1ab2f6775a743dac96cdf2d5ace0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for sending a generic RPC request.  <a href="rpc_8h.html#a99dc1ab2f6775a743dac96cdf2d5ace0">More...</a><br /></td></tr>
<tr class="separator:a99dc1ab2f6775a743dac96cdf2d5ace0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a870f9ab892d57906c5ead9c2eab2d12a"><td class="memItemLeft" align="right" valign="top"><a id="a870f9ab892d57906c5ead9c2eab2d12a"></a>
EVENT2_EXPORT_SYMBOL int&#160;</td><td class="memItemRight" valign="bottom"><b>evrpc_unregister_rpc</b> (struct evrpc_base *base, const char *name)</td></tr>
<tr class="separator:a870f9ab892d57906c5ead9c2eab2d12a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This header files provides basic support for an RPC server and client.</p>
<p>To support RPCs in a server, every supported RPC command needs to be defined and registered.</p>
<p><a class="el" href="rpc_8h.html#aa526799df545537b2dc67358b0dfaa15" title="Creates the definitions and prototypes for an RPC.">EVRPC_HEADER(SendCommand, Request, Reply)</a>;</p>
<p>SendCommand is the name of the RPC command. Request is the name of a structure generated by event_rpcgen.py. It contains all parameters relating to the SendCommand RPC. The server needs to fill in the Reply structure. Reply is the name of a structure generated by event_rpcgen.py. It contains the answer to the RPC.</p>
<p>To register an RPC with an HTTP server, you need to first create an RPC base with:</p>
<p>struct evrpc_base *base = evrpc_init(http);</p>
<p>A specific RPC can then be registered with</p>
<p><a class="el" href="rpc_8h.html#abb204281e2555a1e91ff3885747d0533" title="register RPCs with the HTTP Server">EVRPC_REGISTER(base, SendCommand, Request, Reply,  FunctionCB, arg)</a>;</p>
<p>when the server receives an appropriately formatted RPC, the user callback is invoked. The callback needs to fill in the reply structure.</p>
<p>void FunctionCB(EVRPC_STRUCT(SendCommand)* rpc, void *arg);</p>
<p>To send the reply, call <a class="el" href="rpc_8h.html#a36d6ba276baf3c95df69db35a2ef1527" title="Creates the reply to an RPC request.">EVRPC_REQUEST_DONE(rpc)</a>;</p>
<p>See the regression test for an example. </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="af7abcafae087e3c4dce6a4cd85346114"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af7abcafae087e3c4dce6a4cd85346114">&#9670;&nbsp;</a></span>EVRPC_GENERATE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EVRPC_GENERATE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">rpcname, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">reqstruct, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">rplystruct&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordtype">int</span> evrpc_send_request_##rpcname(<span class="keyword">struct</span> evrpc_pool *pool,   \</div>
<div class="line">        <span class="keyword">struct</span> reqstruct *request, <span class="keyword">struct</span> rplystruct *reply,    \</div>
<div class="line">        <span class="keywordtype">void</span> (*cb)(<span class="keyword">struct</span> evrpc_status *,               \</div>
<div class="line">        <span class="keyword">struct</span> reqstruct *, <span class="keyword">struct</span> rplystruct *, <span class="keywordtype">void</span> *cbarg),  \</div>
<div class="line">        <span class="keywordtype">void</span> *cbarg) {                      \</div>
<div class="line">    return <a class="code" href="rpc_8h.html#a99dc1ab2f6775a743dac96cdf2d5ace0">evrpc_send_request_generic</a>(pool, request, reply, \</div>
<div class="line">        (<span class="keywordtype">void</span> (*)(<span class="keyword">struct</span> evrpc_status *, <span class="keywordtype">void</span> *, <span class="keywordtype">void</span> *, <span class="keywordtype">void</span> *))cb, \</div>
<div class="line">        cbarg,                          \</div>
<div class="line">        #rpcname,                           \</div>
<div class="line">        (<span class="keywordtype">void</span> (*)(<span class="keyword">struct</span> <a class="code" href="structevbuffer.html">evbuffer</a> *, <span class="keywordtype">void</span> *))reqstruct##_marshal,   \</div>
<div class="line">        (<span class="keywordtype">void</span> (*)(<span class="keywordtype">void</span> *))rplystruct##_clear,           \</div>
<div class="line">        (<span class="keywordtype">int</span> (*)(<span class="keywordtype">void</span> *, <span class="keyword">struct</span> <a class="code" href="structevbuffer.html">evbuffer</a> *))rplystruct##_unmarshal); \</div>
<div class="line">}</div>
</div><!-- fragment -->
<p>Generates the code for receiving and sending an RPC message. </p>
<p>EVRPC_GENERATE is used to create the code corresponding to sending and receiving a particular RPC message</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rpcname</td><td>the name of the RPC </td></tr>
    <tr><td class="paramname">reqstruct</td><td>the name of the RPC request structure </td></tr>
    <tr><td class="paramname">replystruct</td><td>the name of the RPC reply structure </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="rpc_8h.html#aa526799df545537b2dc67358b0dfaa15" title="Creates the definitions and prototypes for an RPC.">EVRPC_HEADER()</a> </dd></dl>

</div>
</div>
<a id="aa526799df545537b2dc67358b0dfaa15"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa526799df545537b2dc67358b0dfaa15">&#9670;&nbsp;</a></span>EVRPC_HEADER</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EVRPC_HEADER</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">rpcname, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">reqstruct, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">rplystruct&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><a class="code" href="rpc_8h.html#ae9eff66229e154543551a936c59dd8fa">EVRPC_STRUCT</a>(rpcname) { \</div>
<div class="line">    struct evrpc_hook_meta *hook_meta; \</div>
<div class="line">    struct reqstruct* request; \</div>
<div class="line">    struct rplystruct* reply; \</div>
<div class="line">    struct evrpc* rpc; \</div>
<div class="line">    struct evhttp_request* http_req; \</div>
<div class="line">    struct <a class="code" href="structevbuffer.html">evbuffer</a>* rpc_data; \</div>
<div class="line">};                                   \</div>
<div class="line">EVENT2_EXPORT_SYMBOL \</div>
<div class="line">int evrpc_send_request_##rpcname(<span class="keyword">struct</span> evrpc_pool *, \</div>
<div class="line">    <span class="keyword">struct</span> reqstruct *, <span class="keyword">struct</span> rplystruct *, \</div>
<div class="line">    <span class="keywordtype">void</span> (*)(<span class="keyword">struct</span> evrpc_status *, \</div>
<div class="line">    <span class="keyword">struct</span> reqstruct *, <span class="keyword">struct</span> rplystruct *, <span class="keywordtype">void</span> *cbarg),  \</div>
<div class="line">    <span class="keywordtype">void</span> *);</div>
</div><!-- fragment -->
<p>Creates the definitions and prototypes for an RPC. </p>
<p>You need to use EVRPC_HEADER to create structures and function prototypes needed by the server and client implementation. The structures have to be defined in an .rpc file and converted to source code via event_rpcgen.py</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rpcname</td><td>the name of the RPC </td></tr>
    <tr><td class="paramname">reqstruct</td><td>the name of the RPC request structure </td></tr>
    <tr><td class="paramname">replystruct</td><td>the name of the RPC reply structure </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="rpc_8h.html#af7abcafae087e3c4dce6a4cd85346114" title="Generates the code for receiving and sending an RPC message.">EVRPC_GENERATE()</a> </dd></dl>

</div>
</div>
<a id="ad7694fa8f1b5995a9d43bef1da170fad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7694fa8f1b5995a9d43bef1da170fad">&#9670;&nbsp;</a></span>EVRPC_MAKE_CTX</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EVRPC_MAKE_CTX</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">rpcname, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">reqstruct, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">rplystruct, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">pool, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">request, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">reply, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">cb, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">cbarg&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><a class="code" href="rpc_8h.html#a6a8bc24b989e67a6739fc11118ba0b3f">evrpc_make_request_ctx</a>(pool, request, reply,            \</div>
<div class="line">        #rpcname,                           \</div>
<div class="line">        (<span class="keywordtype">void</span> (*)(<span class="keyword">struct</span> <a class="code" href="structevbuffer.html">evbuffer</a> *, <span class="keywordtype">void</span> *))reqstruct##_marshal,   \</div>
<div class="line">        (<span class="keywordtype">void</span> (*)(<span class="keywordtype">void</span> *))rplystruct##_clear,           \</div>
<div class="line">        (<span class="keywordtype">int</span> (*)(<span class="keywordtype">void</span> *, <span class="keyword">struct</span> <a class="code" href="structevbuffer.html">evbuffer</a> *))rplystruct##_unmarshal, \</div>
<div class="line">        (<span class="keywordtype">void</span> (*)(<span class="keyword">struct</span> evrpc_status *, <span class="keywordtype">void</span> *, <span class="keywordtype">void</span> *, <span class="keywordtype">void</span> *))cb, \</div>
<div class="line">        cbarg)</div>
</div><!-- fragment -->
<p>Creates a context structure that contains rpc specific information. </p>
<p>EVRPC_MAKE_CTX is used to populate a RPC specific context that contains information about marshaling the RPC data types.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rpcname</td><td>the name of the RPC </td></tr>
    <tr><td class="paramname">reqstruct</td><td>the name of the RPC request structure </td></tr>
    <tr><td class="paramname">replystruct</td><td>the name of the RPC reply structure </td></tr>
    <tr><td class="paramname">pool</td><td>the evrpc_pool over which to make the request </td></tr>
    <tr><td class="paramname">request</td><td>a pointer to the RPC request structure object </td></tr>
    <tr><td class="paramname">reply</td><td>a pointer to the RPC reply structure object </td></tr>
    <tr><td class="paramname">cb</td><td>the callback function to call when the RPC has completed </td></tr>
    <tr><td class="paramname">cbarg</td><td>the argument to supply to the callback </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aff0efcd7cb8b966256b5127960bd2c81"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff0efcd7cb8b966256b5127960bd2c81">&#9670;&nbsp;</a></span>EVRPC_MAKE_REQUEST</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EVRPC_MAKE_REQUEST</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">name, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">pool, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">request, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">reply, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">cb, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">cbarg&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;evrpc_send_request_##name((pool), (request), (reply), (cb), (cbarg))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>launches an RPC and sends it to the server </p>
<p><a class="el" href="rpc_8h.html#aff0efcd7cb8b966256b5127960bd2c81" title="launches an RPC and sends it to the server">EVRPC_MAKE_REQUEST()</a> is used by the client to send an RPC to the server.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>the name of the RPC </td></tr>
    <tr><td class="paramname">pool</td><td>the evrpc_pool that contains the connection objects over which the request should be sent. </td></tr>
    <tr><td class="paramname">request</td><td>a pointer to the RPC request structure - it contains the data to be sent to the server. </td></tr>
    <tr><td class="paramname">reply</td><td>a pointer to the RPC reply structure. It is going to be filled if the request was answered successfully </td></tr>
    <tr><td class="paramname">cb</td><td>the callback to invoke when the RPC request has been answered </td></tr>
    <tr><td class="paramname">cbarg</td><td>an additional argument to be passed to the client </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -1 on failure </dd></dl>

</div>
</div>
<a id="abb204281e2555a1e91ff3885747d0533"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb204281e2555a1e91ff3885747d0533">&#9670;&nbsp;</a></span>EVRPC_REGISTER</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EVRPC_REGISTER</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">base, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">name, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">request, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">reply, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">callback, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">cbarg&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><a class="code" href="rpc_8h.html#aad265540d04241d80f60847718db5913">evrpc_register_generic</a>(base, #name,             \</div>
<div class="line">        (<span class="keywordtype">void</span> (*)(<span class="keyword">struct</span> evrpc_req_generic *, <span class="keywordtype">void</span> *))callback, cbarg, \</div>
<div class="line">        (<span class="keywordtype">void</span> *(*)(<span class="keywordtype">void</span> *))request##_new_with_arg, NULL,        \</div>
<div class="line">        (<span class="keywordtype">void</span> (*)(<span class="keywordtype">void</span> *))request##_free,               \</div>
<div class="line">        (<span class="keywordtype">int</span> (*)(<span class="keywordtype">void</span> *, <span class="keyword">struct</span> <a class="code" href="structevbuffer.html">evbuffer</a> *))request##_unmarshal,    \</div>
<div class="line">        (<span class="keywordtype">void</span> *(*)(<span class="keywordtype">void</span> *))reply##_new_with_arg, NULL,      \</div>
<div class="line">        (<span class="keywordtype">void</span> (*)(<span class="keywordtype">void</span> *))reply##_free, \</div>
<div class="line">        (<span class="keywordtype">int</span> (*)(<span class="keywordtype">void</span> *))reply##_complete, \</div>
<div class="line">        (<span class="keywordtype">void</span> (*)(<span class="keyword">struct</span> <a class="code" href="structevbuffer.html">evbuffer</a> *, <span class="keywordtype">void</span> *))reply##_marshal)</div>
</div><!-- fragment -->
<p>register RPCs with the HTTP Server </p>
<p>registers a new RPC with the HTTP server, each RPC needs to have a unique name under which it can be identified.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">base</td><td>the evrpc_base structure in which the RPC should be registered. </td></tr>
    <tr><td class="paramname">name</td><td>the name of the RPC </td></tr>
    <tr><td class="paramname">request</td><td>the name of the RPC request structure </td></tr>
    <tr><td class="paramname">reply</td><td>the name of the RPC reply structure </td></tr>
    <tr><td class="paramname">callback</td><td>the callback that should be invoked when the RPC is received. The callback has the following prototype void (<em>callback)(<a class="el" href="rpc_8h.html#ae9eff66229e154543551a936c59dd8fa" title="The type of a specific RPC Message.">EVRPC_STRUCT(Message)</a></em> rpc, void *arg) </td></tr>
    <tr><td class="paramname">cbarg</td><td>an additional parameter that can be passed to the callback. The parameter can be used to carry around state. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a36d6ba276baf3c95df69db35a2ef1527"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a36d6ba276baf3c95df69db35a2ef1527">&#9670;&nbsp;</a></span>EVRPC_REQUEST_DONE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EVRPC_REQUEST_DONE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">rpc_req</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> { \</div>
<div class="line">  struct evrpc_req_generic *req_ = (<span class="keyword">struct </span>evrpc_req_generic *)(rpc_req); \</div>
<div class="line">  evrpc_request_done(req_);                 \</div>
<div class="line">} <span class="keywordflow">while</span> (0)</div>
</div><!-- fragment -->
<p>Creates the reply to an RPC request. </p>
<p>EVRPC_REQUEST_DONE is used to answer a request; the reply is expected to have been filled in. The request and reply pointers become invalid after this call has finished.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rpc_req</td><td>the rpc request structure provided to the server callback </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af78e1869994ee9597a9a0785d25fbf0b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af78e1869994ee9597a9a0785d25fbf0b">&#9670;&nbsp;</a></span>EVRPC_REQUEST_HTTP</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EVRPC_REQUEST_HTTP</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">rpc_req</td><td>)</td>
          <td>&#160;&#160;&#160;(rpc_req)-&gt;http_req</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Provides access to the HTTP request object underlying an RPC. </p>
<p>Access to the underlying http object; can be used to look at headers or for getting the remote ip address</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rpc_req</td><td>the rpc request structure provided to the server callback </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>an struct evhttp_request object that can be inspected for HTTP headers or sender information. </dd></dl>

</div>
</div>
<a id="ae9eff66229e154543551a936c59dd8fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae9eff66229e154543551a936c59dd8fa">&#9670;&nbsp;</a></span>EVRPC_STRUCT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EVRPC_STRUCT</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">rpcname</td><td>)</td>
          <td>&#160;&#160;&#160;struct evrpc_req__##rpcname</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The type of a specific RPC Message. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rpcname</td><td>the name of the RPC message </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab646cdf50e026accddcd9fe23b35837b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab646cdf50e026accddcd9fe23b35837b">&#9670;&nbsp;</a></span>EVRPC_UNREGISTER</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EVRPC_UNREGISTER</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">base, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">name&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;evrpc_unregister_rpc((base), #name)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unregisters an already registered RPC. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">base</td><td>the evrpc_base object from which to unregister an RPC </td></tr>
    <tr><td class="paramname">name</td><td>the name of the rpc to unregister </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>-1 on error or 0 when successful. </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="rpc_8h.html#abb204281e2555a1e91ff3885747d0533" title="register RPCs with the HTTP Server">EVRPC_REGISTER()</a> </dd></dl>

</div>
</div>
<a id="a8063c9f0927da79cc9e53600a77eecc6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8063c9f0927da79cc9e53600a77eecc6">&#9670;&nbsp;</a></span>EVTAG_ASSIGN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EVTAG_ASSIGN</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">msg, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">member, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">value&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;(*(msg)-&gt;base-&gt;member##_assign)((msg), (value))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Assigns a value to the member in the message. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>the message to which to assign a value </td></tr>
    <tr><td class="paramname">member</td><td>the name of the member variable </td></tr>
    <tr><td class="paramname">value</td><td>the value to assign </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af420133e56a545bef6cba6f878d403d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af420133e56a545bef6cba6f878d403d7">&#9670;&nbsp;</a></span>EVTAG_ASSIGN_WITH_LEN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EVTAG_ASSIGN_WITH_LEN</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">msg, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">member, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">value, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">len&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;(*(msg)-&gt;base-&gt;member##_assign)((msg), (value), (len))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Assigns a value to the member in the message. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>the message to which to assign a value </td></tr>
    <tr><td class="paramname">member</td><td>the name of the member variable </td></tr>
    <tr><td class="paramname">value</td><td>the value to assign </td></tr>
    <tr><td class="paramname">len</td><td>the length of the value </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aef6e54053208c090c43d05c9b2259fb9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef6e54053208c090c43d05c9b2259fb9">&#9670;&nbsp;</a></span>EVTAG_GET</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EVTAG_GET</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">msg, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">member, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">pvalue&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;(*(msg)-&gt;base-&gt;member##_get)((msg), (pvalue))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the value for a member. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>the message from which to get the value </td></tr>
    <tr><td class="paramname">member</td><td>the name of the member variable </td></tr>
    <tr><td class="paramname">pvalue</td><td>a pointer to the variable to hold the value </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -1 otherwise. </dd></dl>

</div>
</div>
<a id="ae0b73ea41cb7f06976fd69a8f1be6219"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae0b73ea41cb7f06976fd69a8f1be6219">&#9670;&nbsp;</a></span>EVTAG_GET_WITH_LEN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EVTAG_GET_WITH_LEN</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">msg, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">member, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">pvalue, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">plen&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;(*(msg)-&gt;base-&gt;member##_get)((msg), (pvalue), (plen))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the value for a member. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>the message from which to get the value </td></tr>
    <tr><td class="paramname">member</td><td>the name of the member variable </td></tr>
    <tr><td class="paramname">pvalue</td><td>a pointer to the variable to hold the value </td></tr>
    <tr><td class="paramname">plen</td><td>a pointer to the length of the value </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -1 otherwise. </dd></dl>

</div>
</div>
<a id="a1a924e89c7a0c5eddc63cf9bf569fae6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a924e89c7a0c5eddc63cf9bf569fae6">&#9670;&nbsp;</a></span>EVTAG_HAS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EVTAG_HAS</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">msg, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">member&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;((msg)-&gt;member##_set == 1)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determines if the member has been set in the message. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>the message to inspect </td></tr>
    <tr><td class="paramname">member</td><td>the member variable to test for presences </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if it's present or 0 otherwise. </dd></dl>

</div>
</div>
<a id="a1bb283bd7893b9855e2f23013891fc82"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1bb283bd7893b9855e2f23013891fc82">&#9670;&nbsp;</a></span>INPUT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define INPUT&#160;&#160;&#160;<a class="el" href="rpc_8h.html#a66eff7ea6bdd17e53fde6c4d9dc1835ba2a62d2e1147edb5b460c1abb17be9734">EVRPC_INPUT</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deprecated alias for EVRPC_INPUT. </p>
<p>Not available on windows, where it conflicts with platform headers. </p>

</div>
</div>
<a id="a61a3c9a18380aafb6e430e79bf596557"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a61a3c9a18380aafb6e430e79bf596557">&#9670;&nbsp;</a></span>OUTPUT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OUTPUT&#160;&#160;&#160;<a class="el" href="rpc_8h.html#a66eff7ea6bdd17e53fde6c4d9dc1835bad63587ff3a66808e422f1ca48c9db85e">EVRPC_OUTPUT</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deprecated alias for EVRPC_OUTPUT. </p>
<p>Not available on windows, where it conflicts with platform headers. </p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a9c37f133ebc96b2bd66c472079b1338b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c37f133ebc96b2bd66c472079b1338b">&#9670;&nbsp;</a></span>EVRPC_HOOK_RESULT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="rpc_8h.html#a9c37f133ebc96b2bd66c472079b1338b">EVRPC_HOOK_RESULT</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return value from hook processing functions. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a9c37f133ebc96b2bd66c472079b1338ba61de2cad490f408aa9ecc3427cfb6233"></a>EVRPC_TERMINATE&#160;</td><td class="fielddoc"><p>indicates the rpc should be terminated </p>
</td></tr>
<tr><td class="fieldname"><a id="a9c37f133ebc96b2bd66c472079b1338ba4f92aee79d3413c4940eeb578ee33643"></a>EVRPC_CONTINUE&#160;</td><td class="fielddoc"><p>continue processing the rpc </p>
</td></tr>
<tr><td class="fieldname"><a id="a9c37f133ebc96b2bd66c472079b1338baff86ced7cf446eec75868ba64d956b9c"></a>EVRPC_PAUSE&#160;</td><td class="fielddoc"><p>pause processing request until resumed </p>
</td></tr>
</table>

</div>
</div>
<a id="a66eff7ea6bdd17e53fde6c4d9dc1835b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66eff7ea6bdd17e53fde6c4d9dc1835b">&#9670;&nbsp;</a></span>EVRPC_HOOK_TYPE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="rpc_8h.html#a66eff7ea6bdd17e53fde6c4d9dc1835b">EVRPC_HOOK_TYPE</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Hooks for changing the input and output of RPCs; this can be used to implement compression, authentication, encryption, ... </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a66eff7ea6bdd17e53fde6c4d9dc1835ba2a62d2e1147edb5b460c1abb17be9734"></a>EVRPC_INPUT&#160;</td><td class="fielddoc"><p>apply the function to an input hook </p>
</td></tr>
<tr><td class="fieldname"><a id="a66eff7ea6bdd17e53fde6c4d9dc1835bad63587ff3a66808e422f1ca48c9db85e"></a>EVRPC_OUTPUT&#160;</td><td class="fielddoc"><p>apply the function to an output hook </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a5d82ac478904ddadeba9af7e695b254d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d82ac478904ddadeba9af7e695b254d">&#9670;&nbsp;</a></span>evrpc_add_hook()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EVENT2_EXPORT_SYMBOL void* evrpc_add_hook </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>vbase</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="rpc_8h.html#a66eff7ea6bdd17e53fde6c4d9dc1835b">EVRPC_HOOK_TYPE</a>&#160;</td>
          <td class="paramname"><em>hook_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int(*)(void *, struct evhttp_request *, struct <a class="el" href="structevbuffer.html">evbuffer</a> *, void *)&#160;</td>
          <td class="paramname"><em>cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>cb_arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>adds a processing hook to either an rpc base or rpc pool </p>
<p>If a hook returns TERMINATE, the processing is aborted. On CONTINUE, the request is immediately processed after the hook returns. If the hook returns PAUSE, request processing stops until <a class="el" href="rpc_8h.html#a8e7a8aabcd4e216d1e32254bfba33472" title="resume a paused request">evrpc_resume_request()</a> has been called.</p>
<p>The add functions return handles that can be used for removing hooks.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">vbase</td><td>a pointer to either struct evrpc_base or struct evrpc_pool </td></tr>
    <tr><td class="paramname">hook_type</td><td>either INPUT or OUTPUT </td></tr>
    <tr><td class="paramname">cb</td><td>the callback to call when the hook is activated </td></tr>
    <tr><td class="paramname">cb_arg</td><td>an additional argument for the callback </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a handle to the hook so it can be removed later </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="rpc_8h.html#ab77b039cae7b4f94bfff18382bef981f" title="removes a previously added hook">evrpc_remove_hook()</a> </dd></dl>

</div>
</div>
<a id="aefeb82c78c1a6e2338d32cfcb02297c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aefeb82c78c1a6e2338d32cfcb02297c6">&#9670;&nbsp;</a></span>evrpc_free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EVENT2_EXPORT_SYMBOL void evrpc_free </td>
          <td>(</td>
          <td class="paramtype">struct evrpc_base *&#160;</td>
          <td class="paramname"><em>base</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Frees the evrpc base. </p>
<p>For now, you are responsible for making sure that no rpcs are ongoing.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">base</td><td>the evrpc_base object to be freed </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="rpc_8h.html#ac86c02abb0baa97c82efe94a72ae8178" title="Creates a new rpc base from which RPC requests can be received.">evrpc_init</a> </dd></dl>

</div>
</div>
<a id="a90a1f9e9fcb9e9221bd012f67b0dc667"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a90a1f9e9fcb9e9221bd012f67b0dc667">&#9670;&nbsp;</a></span>evrpc_hook_add_meta()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EVENT2_EXPORT_SYMBOL void evrpc_hook_add_meta </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>data_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>adds meta data to request </p>
<p><a class="el" href="rpc_8h.html#a90a1f9e9fcb9e9221bd012f67b0dc667" title="adds meta data to request">evrpc_hook_add_meta()</a> allows hooks to add meta data to a request. for a client request, the meta data can be inserted by an outgoing request hook and retrieved by the incoming request hook.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ctx</td><td>the context provided to the hook call </td></tr>
    <tr><td class="paramname">key</td><td>a NUL-terminated c-string </td></tr>
    <tr><td class="paramname">data</td><td>the data to be associated with the key </td></tr>
    <tr><td class="paramname">data_size</td><td>the size of the data </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a5e6215f4f22ab5bc5d72159143cefcea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e6215f4f22ab5bc5d72159143cefcea">&#9670;&nbsp;</a></span>evrpc_hook_find_meta()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EVENT2_EXPORT_SYMBOL int evrpc_hook_find_meta </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>data_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>retrieves meta data previously associated </p>
<p><a class="el" href="rpc_8h.html#a5e6215f4f22ab5bc5d72159143cefcea" title="retrieves meta data previously associated">evrpc_hook_find_meta()</a> can be used to retrieve meta data associated to a request by a previous hook. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ctx</td><td>the context provided to the hook call </td></tr>
    <tr><td class="paramname">key</td><td>a NUL-terminated c-string </td></tr>
    <tr><td class="paramname">data</td><td>pointer to a data pointer that will contain the retrieved data </td></tr>
    <tr><td class="paramname">data_size</td><td>pointer to the size of the data </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success or -1 on failure </dd></dl>

</div>
</div>
<a id="afb04e638c158bd3fe3a0e73000e39f10"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb04e638c158bd3fe3a0e73000e39f10">&#9670;&nbsp;</a></span>evrpc_hook_get_connection()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EVENT2_EXPORT_SYMBOL struct evhttp_connection* evrpc_hook_get_connection </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>returns the connection object associated with the request </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ctx</td><td>the context provided to the hook call </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a pointer to the evhttp_connection object or NULL if an error occurred </dd></dl>

</div>
</div>
<a id="ac86c02abb0baa97c82efe94a72ae8178"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac86c02abb0baa97c82efe94a72ae8178">&#9670;&nbsp;</a></span>evrpc_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EVENT2_EXPORT_SYMBOL struct evrpc_base* evrpc_init </td>
          <td>(</td>
          <td class="paramtype">struct evhttp *&#160;</td>
          <td class="paramname"><em>server</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a new rpc base from which RPC requests can be received. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">server</td><td>a pointer to an existing HTTP server </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a newly allocated evrpc_base struct or NULL if an error occurred </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="rpc_8h.html#aefeb82c78c1a6e2338d32cfcb02297c6" title="Frees the evrpc base.">evrpc_free()</a> </dd></dl>

</div>
</div>
<a id="a1e45aa64f32b7a0a780b914b4a7b83c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e45aa64f32b7a0a780b914b4a7b83c5">&#9670;&nbsp;</a></span>evrpc_make_request()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EVENT2_EXPORT_SYMBOL int evrpc_make_request </td>
          <td>(</td>
          <td class="paramtype">struct evrpc_request_wrapper *&#160;</td>
          <td class="paramname"><em>ctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Makes an RPC request based on the provided context. </p>
<p>This is a low-level function and should not be used directly unless a custom context object is provided. Use <a class="el" href="rpc_8h.html#aff0efcd7cb8b966256b5127960bd2c81" title="launches an RPC and sends it to the server">EVRPC_MAKE_REQUEST()</a> instead.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ctx</td><td>a context from <a class="el" href="rpc_8h.html#ad7694fa8f1b5995a9d43bef1da170fad" title="Creates a context structure that contains rpc specific information.">EVRPC_MAKE_CTX()</a> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -1 otherwise. </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="rpc_8h.html#aff0efcd7cb8b966256b5127960bd2c81" title="launches an RPC and sends it to the server">EVRPC_MAKE_REQUEST()</a>, <a class="el" href="rpc_8h.html#ad7694fa8f1b5995a9d43bef1da170fad" title="Creates a context structure that contains rpc specific information.">EVRPC_MAKE_CTX()</a> </dd></dl>

</div>
</div>
<a id="a9e3bedffaef59f2ccc1c0003ce05da8c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e3bedffaef59f2ccc1c0003ce05da8c">&#9670;&nbsp;</a></span>evrpc_pool_add_connection()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EVENT2_EXPORT_SYMBOL void evrpc_pool_add_connection </td>
          <td>(</td>
          <td class="paramtype">struct evrpc_pool *&#160;</td>
          <td class="paramname"><em>pool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct evhttp_connection *&#160;</td>
          <td class="paramname"><em>evcon</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds a connection over which rpc can be dispatched to the pool. </p>
<p>The connection object must have been newly created.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pool</td><td>the pool to which to add the connection </td></tr>
    <tr><td class="paramname">evcon</td><td>the connection to add to the pool. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab8579f465aee520bb8ac1b208d1d8d95"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab8579f465aee520bb8ac1b208d1d8d95">&#9670;&nbsp;</a></span>evrpc_pool_free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EVENT2_EXPORT_SYMBOL void evrpc_pool_free </td>
          <td>(</td>
          <td class="paramtype">struct evrpc_pool *&#160;</td>
          <td class="paramname"><em>pool</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>frees an rpc connection pool </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pool</td><td>a pointer to an evrpc_pool allocated via <a class="el" href="rpc_8h.html#a3098d4fd0966fe525d86f0f717771389" title="creates an rpc connection pool">evrpc_pool_new()</a> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="rpc_8h.html#a3098d4fd0966fe525d86f0f717771389" title="creates an rpc connection pool">evrpc_pool_new()</a> </dd></dl>

</div>
</div>
<a id="a3098d4fd0966fe525d86f0f717771389"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3098d4fd0966fe525d86f0f717771389">&#9670;&nbsp;</a></span>evrpc_pool_new()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EVENT2_EXPORT_SYMBOL struct evrpc_pool* evrpc_pool_new </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>creates an rpc connection pool </p>
<p>a pool has a number of connections associated with it. rpc requests are always made via a pool.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">base</td><td>a pointer to an struct event_based object; can be left NULL in singled-threaded applications </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a newly allocated struct evrpc_pool object or NULL if an error occurred </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="rpc_8h.html#ab8579f465aee520bb8ac1b208d1d8d95" title="frees an rpc connection pool">evrpc_pool_free()</a> </dd></dl>

</div>
</div>
<a id="a6272b6b974e4abe27ccb1273ba37b100"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6272b6b974e4abe27ccb1273ba37b100">&#9670;&nbsp;</a></span>evrpc_pool_remove_connection()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EVENT2_EXPORT_SYMBOL void evrpc_pool_remove_connection </td>
          <td>(</td>
          <td class="paramtype">struct evrpc_pool *&#160;</td>
          <td class="paramname"><em>pool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct evhttp_connection *&#160;</td>
          <td class="paramname"><em>evcon</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Removes a connection from the pool. </p>
<p>The connection object must have been newly created.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pool</td><td>the pool from which to remove the connection </td></tr>
    <tr><td class="paramname">evcon</td><td>the connection to remove from the pool. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0164fb784c8b8907e30861f2fee89c44"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0164fb784c8b8907e30861f2fee89c44">&#9670;&nbsp;</a></span>evrpc_pool_set_timeout()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EVENT2_EXPORT_SYMBOL void evrpc_pool_set_timeout </td>
          <td>(</td>
          <td class="paramtype">struct evrpc_pool *&#160;</td>
          <td class="paramname"><em>pool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>timeout_in_secs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the timeout in secs after which a request has to complete. </p>
<p>The RPC is completely aborted if it does not complete by then. Setting the timeout to 0 means that it never timeouts and can be used to implement callback type RPCs.</p>
<p>Any connection already in the pool will be updated with the new timeout. Connections added to the pool after set_timeout has be called receive the pool timeout only if no timeout has been set for the connection itself.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pool</td><td>a pointer to a struct evrpc_pool object </td></tr>
    <tr><td class="paramname">timeout_in_secs</td><td>the number of seconds after which a request should timeout and a failure be returned to the callback. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aad265540d04241d80f60847718db5913"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad265540d04241d80f60847718db5913">&#9670;&nbsp;</a></span>evrpc_register_generic()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EVENT2_EXPORT_SYMBOL int evrpc_register_generic </td>
          <td>(</td>
          <td class="paramtype">struct evrpc_base *&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(struct evrpc_req_generic *, void *)&#160;</td>
          <td class="paramname"><em>callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>cbarg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *(*)(void *)&#160;</td>
          <td class="paramname"><em>req_new</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>req_new_arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(void *)&#160;</td>
          <td class="paramname"><em>req_free</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int(*)(void *, struct <a class="el" href="structevbuffer.html">evbuffer</a> *)&#160;</td>
          <td class="paramname"><em>req_unmarshal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *(*)(void *)&#160;</td>
          <td class="paramname"><em>rpl_new</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>rpl_new_arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(void *)&#160;</td>
          <td class="paramname"><em>rpl_free</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int(*)(void *)&#160;</td>
          <td class="paramname"><em>rpl_complete</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(struct <a class="el" href="structevbuffer.html">evbuffer</a> *, void *)&#160;</td>
          <td class="paramname"><em>rpl_marshal</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function for registering a generic RPC with the RPC base. </p>
<p>Do not call this function directly, use <a class="el" href="rpc_8h.html#abb204281e2555a1e91ff3885747d0533" title="register RPCs with the HTTP Server">EVRPC_REGISTER()</a> instead.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="rpc_8h.html#abb204281e2555a1e91ff3885747d0533" title="register RPCs with the HTTP Server">EVRPC_REGISTER()</a> </dd></dl>

</div>
</div>
<a id="ab8687528c294762984a097ecf4575713"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab8687528c294762984a097ecf4575713">&#9670;&nbsp;</a></span>evrpc_register_rpc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EVENT2_EXPORT_SYMBOL int evrpc_register_rpc </td>
          <td>(</td>
          <td class="paramtype">struct evrpc_base *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct evrpc *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(struct evrpc_req_generic *, void *)&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Low level function for registering an RPC with a server. </p>
<p>Use <a class="el" href="rpc_8h.html#abb204281e2555a1e91ff3885747d0533" title="register RPCs with the HTTP Server">EVRPC_REGISTER()</a> instead.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="rpc_8h.html#abb204281e2555a1e91ff3885747d0533" title="register RPCs with the HTTP Server">EVRPC_REGISTER()</a> </dd></dl>

</div>
</div>
<a id="ab77b039cae7b4f94bfff18382bef981f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab77b039cae7b4f94bfff18382bef981f">&#9670;&nbsp;</a></span>evrpc_remove_hook()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EVENT2_EXPORT_SYMBOL int evrpc_remove_hook </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>vbase</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="rpc_8h.html#a66eff7ea6bdd17e53fde6c4d9dc1835b">EVRPC_HOOK_TYPE</a>&#160;</td>
          <td class="paramname"><em>hook_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>handle</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>removes a previously added hook </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">vbase</td><td>a pointer to either struct evrpc_base or struct evrpc_pool </td></tr>
    <tr><td class="paramname">hook_type</td><td>either INPUT or OUTPUT </td></tr>
    <tr><td class="paramname">handle</td><td>a handle returned by <a class="el" href="rpc_8h.html#a5d82ac478904ddadeba9af7e695b254d" title="adds a processing hook to either an rpc base or rpc pool">evrpc_add_hook()</a> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 on success or 0 on failure </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="rpc_8h.html#a5d82ac478904ddadeba9af7e695b254d" title="adds a processing hook to either an rpc base or rpc pool">evrpc_add_hook()</a> </dd></dl>

</div>
</div>
<a id="a8e7a8aabcd4e216d1e32254bfba33472"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e7a8aabcd4e216d1e32254bfba33472">&#9670;&nbsp;</a></span>evrpc_resume_request()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EVENT2_EXPORT_SYMBOL int evrpc_resume_request </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>vbase</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="rpc_8h.html#a9c37f133ebc96b2bd66c472079b1338b">EVRPC_HOOK_RESULT</a>&#160;</td>
          <td class="paramname"><em>res</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>resume a paused request </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">vbase</td><td>a pointer to either struct evrpc_base or struct evrpc_pool </td></tr>
    <tr><td class="paramname">ctx</td><td>the context pointer provided to the original hook call </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a99dc1ab2f6775a743dac96cdf2d5ace0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a99dc1ab2f6775a743dac96cdf2d5ace0">&#9670;&nbsp;</a></span>evrpc_send_request_generic()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EVENT2_EXPORT_SYMBOL int evrpc_send_request_generic </td>
          <td>(</td>
          <td class="paramtype">struct evrpc_pool *&#160;</td>
          <td class="paramname"><em>pool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>request</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>reply</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(struct evrpc_status *, void *, void *, void *)&#160;</td>
          <td class="paramname"><em>cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>cb_arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>rpcname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(struct <a class="el" href="structevbuffer.html">evbuffer</a> *, void *)&#160;</td>
          <td class="paramname"><em>req_marshal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(void *)&#160;</td>
          <td class="paramname"><em>rpl_clear</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int(*)(void *, struct <a class="el" href="structevbuffer.html">evbuffer</a> *)&#160;</td>
          <td class="paramname"><em>rpl_unmarshal</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function for sending a generic RPC request. </p>
<p>Do not call this function directly, use <a class="el" href="rpc_8h.html#aff0efcd7cb8b966256b5127960bd2c81" title="launches an RPC and sends it to the server">EVRPC_MAKE_REQUEST()</a> instead.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="rpc_8h.html#aff0efcd7cb8b966256b5127960bd2c81" title="launches an RPC and sends it to the server">EVRPC_MAKE_REQUEST()</a> </dd></dl>

</div>
</div>
</div><!-- contents -->
<div class="ttc" id="arpc_8h_html_a6a8bc24b989e67a6739fc11118ba0b3f"><div class="ttname"><a href="rpc_8h.html#a6a8bc24b989e67a6739fc11118ba0b3f">evrpc_make_request_ctx</a></div><div class="ttdeci">EVENT2_EXPORT_SYMBOL struct evrpc_request_wrapper * evrpc_make_request_ctx(struct evrpc_pool *pool, void *request, void *reply, const char *rpcname, void(*req_marshal)(struct evbuffer *, void *), void(*rpl_clear)(void *), int(*rpl_unmarshal)(void *, struct evbuffer *), void(*cb)(struct evrpc_status *, void *, void *, void *), void *cbarg)</div><div class="ttdoc">use EVRPC_GENERATE instead</div></div>
<div class="ttc" id="arpc_8h_html_aad265540d04241d80f60847718db5913"><div class="ttname"><a href="rpc_8h.html#aad265540d04241d80f60847718db5913">evrpc_register_generic</a></div><div class="ttdeci">EVENT2_EXPORT_SYMBOL int evrpc_register_generic(struct evrpc_base *base, const char *name, void(*callback)(struct evrpc_req_generic *, void *), void *cbarg, void *(*req_new)(void *), void *req_new_arg, void(*req_free)(void *), int(*req_unmarshal)(void *, struct evbuffer *), void *(*rpl_new)(void *), void *rpl_new_arg, void(*rpl_free)(void *), int(*rpl_complete)(void *), void(*rpl_marshal)(struct evbuffer *, void *))</div><div class="ttdoc">Function for registering a generic RPC with the RPC base.</div></div>
<div class="ttc" id="astructevbuffer_html"><div class="ttname"><a href="structevbuffer.html">evbuffer</a></div><div class="ttdoc">An evbuffer is an opaque data type for efficiently buffering data to be sent or received on the netwo...</div><div class="ttdef"><b>Definition:</b> buffer.h:97</div></div>
<div class="ttc" id="arpc_8h_html_a99dc1ab2f6775a743dac96cdf2d5ace0"><div class="ttname"><a href="rpc_8h.html#a99dc1ab2f6775a743dac96cdf2d5ace0">evrpc_send_request_generic</a></div><div class="ttdeci">EVENT2_EXPORT_SYMBOL int evrpc_send_request_generic(struct evrpc_pool *pool, void *request, void *reply, void(*cb)(struct evrpc_status *, void *, void *, void *), void *cb_arg, const char *rpcname, void(*req_marshal)(struct evbuffer *, void *), void(*rpl_clear)(void *), int(*rpl_unmarshal)(void *, struct evbuffer *))</div><div class="ttdoc">Function for sending a generic RPC request.</div></div>
<div class="ttc" id="arpc_8h_html_ae9eff66229e154543551a936c59dd8fa"><div class="ttname"><a href="rpc_8h.html#ae9eff66229e154543551a936c59dd8fa">EVRPC_STRUCT</a></div><div class="ttdeci">#define EVRPC_STRUCT(rpcname)</div><div class="ttdoc">The type of a specific RPC Message.</div><div class="ttdef"><b>Definition:</b> rpc.h:159</div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.16
</small></address>
</body>
</html>
